%\documentclass[notes=onlyslideswithnotes]{beamer}
%\documentclass[12pt]{beamer}
\documentclass{beamerthesis}
%\usetheme{default}
%\usetheme{professional-minimal}
%\usetheme{/home/emeres/Templates/LaTeX/Beamer/Professional\ Minimal/professional-minimal.sty}
%\usepackage{Beamer/Professional\ Minimal/professional-minimal.sty}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[export]{adjustbox}
\usepackage{graphicx}
\usepackage{tikz}

\author{Ernest Skrzypczyk, BSc}
\title[UGV \& UAV collaboration]{UGV and UAV collaboration in an autonomous infrastructure scenario}
%\title[UGV \& UAV collaboration]{Unmanned ground vehicle and unmanned air vehicle collaboration in an autonomous infrastructure scenario}
\subtitle{Master thesis - Bibliography}
%\logo{\includegraphics[width=0.1\paperwidth, height=0.1\paperheight]{ARMEN.png}}
%CHOOSE one name, both institutions?
\institute{EMARO+} %\placeImage{Graphics/EMARO+}{7.8cm}{9.6cm}{.2\paperwidth}}
%\institute{EMARO+, ECN, IRCCyn, ARMEN}
%\institute{EMARO+, École Centrale Nantes, IRCCyn, ARMEN}
%\institute{EMARO+, L'École Centrale Nantes, IRCCyn, ARMEN}
\date{\today}
\subject{UGV and UAV collaboration in an autonomous infrastructure scenario}
%\setbeamercovered{transparent}
\setbeamertemplate{navigation symbols}{}
%\titlehead{\centering\includegraphics[width=0.2\textwidth]{Graphics/EMARO+.jpg}}
%\titlehead{\placeImage{Graphics/EMARO+}{7.8cm}{9.6cm}{.2\paperwidth}}

\makeatletter
\newcommand{\rmn}[1]{\romannumeral #1}
\newcommand{\Rmn}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother

\newcommand{\semitransp}[2][35]{\color{fg!#1}#2}
\definecolor{color1}{rgb}{0.90,0.90,0.90}
\definecolor{color2}{rgb}{1.0,1.0,1.0}
\definecolor{color3}{rgb}{0.0,0.0,0.0}
\definecolor{color4}{rgb}{0.1, 0.1, 0.1}
\definecolor{color5}{rgb}{0.78, 0.14, 0.14}

\newcommand{\aemph}[1]{\color{color5}\emph{#1}\hspace{0.1em}\color{color2}}

\setbeamercolor{structure}{fg=color1, bg=color3}
\setbeamercolor{normal text}{fg=color2}
\usebackgroundtemplate{\includegraphics[width=\paperwidth, height=\paperheight]{Graphics/00-background.png}}
\usefonttheme{professionalfonts}
%\useoutertheme{infolines}
%\setbeamertemplate{footline}[frame number]
%\setbeamertemplate{footline}{\scriptsize{\hfill\insertframenumber/\inserttotalframenumber\vspace*{0.3cm}\hspace*{0.3cm}}}
%\setbeamertemplate{footline}{\scriptsize{\hfill\insertframenumber/\inserttotalframenumber\vspace*{0.3cm}\hspace*{0.3cm}}} % Correct frame number


\bibliography{../Bibliography/Library.bib}

\begin{document}
%\maketitle % Title page
\begin{frame}[plain] % Title page without footnote
	\placeImage{Graphics/EMARO+}{8.1cm}{10.cm}{.2\paperwidth}
	\titlepage
	%\setbeamercovered{transparent}
\end{frame}

\setcounter{framenumber}{0}
%\setbeamertemplate{footline}{\scriptsize{\hfill\insertframenumber/\inserttotalframenumber\vspace*{0.3cm}\hspace*{0.3cm}}} % Correct frame number
%\setbeamertemplate{footline}{\hfill\insertframenumber/\inserttotalframenumber\vspace*{0.6cm}\hspace*{0.3cm}\vfill} % Correct frame number

%\begin{frame}
%	\frametitle{UGV and UAV collaboration in an autonomous infrastructure scenario}
%	\begin{itemize}
%		\item Definitions
%		\item Context
%		\item Application scenarios
%	\end{itemize}
%\end{frame}

\usebackgroundtemplate{\includegraphics[width=\paperwidth, height=\paperheight]{Graphics/00-background-dark.png}}

\begin{frame}
%	\frametitle{Structure}
	\frametitle{Structure of the presentation}
%		\frametitle{Outline}
%		\tableofcontents[pausesections]
%		\tableofcontents[part=1,pausesections]
	\tableofcontents
\end{frame}


\section{Introduction}
\begin{frame}\frametitle{Motivation}
	\begin{itemize}
		\item Different types of robots -> Different mobility
		\item Additional abilities -> Different view points of same object
		\item Decentralized approach -> Swarms
		\item Virtual loop closures -> Revisiting a certain place at different time and/or by a different unit
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Context of the work}
	\begin{itemize} %EXPAND and specify
		\item Autonomous infrastructure
		\item Current developments
		\item Major programmes in place
	\end{itemize} %ADD statistics
\end{frame}


\section{Background theory}
\subsection{Definitions}
\begin{frame}\frametitle{Definitions}
	\begin{tabular}{ccc} %ADD images
		\includegraphics<1->[width=0.3\textwidth]{Graphics/01-robot-collaboration.png}
		&
		\includegraphics<2->[width=0.3\textwidth]{Graphics/01-ugv.png}
		&
		\includegraphics<3->[width=0.3\textwidth]{Graphics/01-uav.png}
	\end{tabular}

	\begin{itemize}
		\item<1->\alert<1>{Robot collaboration}
		\item<2->\alert<2>{UGV -- Unmanned ground vehicle}
		\item<3->\alert<3>{UAV -- Unmanned air vehicle}
		\item<1>Process of coordinated actions performed by robots towards a specified goal
		\item<2,3>Vehicle designed without support systems for humans, capable of similar performance as a manned vehicle
	\end{itemize}
\end{frame}

\subsection{SLAM}
\begin{frame}\frametitle{SLAM -- General case problem statement}
	\centering
	\aemph{SLAM} -- \aemph{S}imultaneous \aemph{l}ocalization \aemph{a}nd \aemph{m}apping\vspace*{-2em}

	\begin{tabular}{c}
		\includegraphics[width=0.7\textwidth]{Graphics/02-slam-with-errors.pdf}\\
		\includegraphics[width=0.6\textwidth]{Graphics/02-slam-legend-2.pdf}
	\end{tabular}
\end{frame}

%\begin{frame}\frametitle{Multi SLAM in 2D}
\begin{frame}\frametitle{\aemph{Multi} SLAM in 2D}
	\centering
%	\aemph{Multi} SLAM

	\begin{tabular}{c}
		\includegraphics[width=0.6\textwidth]{Graphics/03-slam-2d.pdf}\\
		\includegraphics[width=0.6\textwidth]{Graphics/02-slam-legend-3.pdf}
	\end{tabular}
\end{frame}

%\begin{frame}\frametitle{Visual SLAM}
\begin{frame}\frametitle{\aemph{Visual} SLAM}
	\centering
%	Raw frame%\vspace*{-2em}
	Raw frame\vspace*{-2em}

	\begin{tabular}{c}
		\includegraphics[width=0.7\textwidth]{Graphics/03-vslam-raw.pdf}\\
%		\includegraphics[width=0.7\textwidth]{Graphics/03-vslam.png}\\
%		\includegraphics[width=0.7\textwidth]{Graphics/02-slam-legend-3.pdf}
	\end{tabular}
\end{frame}

%\begin{frame}\frametitle{Visual SLAM}
\begin{frame}\frametitle{\aemph{Visual} SLAM}
	\centering
%	\aemph{Visual} SLAM -- processed frame%\vspace*{-2em}
	Processed frame\vspace*{-2em}

	\begin{tabular}{c}
		\includegraphics[width=0.7\textwidth]{Graphics/03-vslam-processed.pdf}\\
		%		\includegraphics[width=0.7\textwidth]{Graphics/03-vslam.png}\\
		%		\includegraphics[width=0.7\textwidth]{Graphics/02-slam-legend-3.pdf}
	\end{tabular}
\end{frame}

\section{State of the art}
\subsection{SLAM algorithms}
\begin{frame}\frametitle{Current SLAM algorithms}
	\begin{itemize}
		\item Anatomy of SLAM systems
		\begin{itemize}
			\item Front-end
			\begin{itemize}
				\item Feature extraction
				\item Data association
%				\begin{itemize}
%					\item Feature tracking
%					\item Loopclosure detection
%				\end{itemize}
			\end{itemize}
			\item Back-end
			\begin{itemize}
				\item Map estimation
			\end{itemize}
		\end{itemize}
	\end{itemize}
	\includegraphics[width=0.5\textwidth, right]{Graphics/slam-architecture-b.png}
\end{frame}

\begin{frame}\frametitle{Relevant data detection and extraction}
	\begin{itemize}
		\item Dense -- Full resolution of sensors used
		\item Sparse -- Feature detection and extraction
		\item Semi-Dense/Semi-Sparse -- A combination between dense and sparse approaches
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Current standard for SLAM back-end}
	\begin{itemize}
		\item MAP (Maximum a posteriori) estimation
		\item Often used with \emph{factor graph formalism}
		\item Usually feeds back information to front-end
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Current standard for SLAM front-end}
	\begin{itemize}
		\item Sensor dependent preprocessing
		\item Feature or regions of interest detection and extraction
		\item Association of measurement to landmarks
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Representations}
	\begin{itemize}
		\item Metric representations
		\begin{itemize}
			\item Sparse representation based on landmarks
			\item Low level raw dense representation
			\item Boundary and spatial partitioning dense representation
			\item High level representation based on objects
			%Add more here
		\end{itemize}
		\item Metric representations
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Future developments and goals}
	\begin{enumerate}
		\item Long term autonomy
		\begin{itemize}
			\item Robustness
			\begin{itemize}
				\item Harsh environments
				\item Noisy environments
				\item Dynamic environments
			\end{itemize}
			\item Scalability
		\end{itemize}
		\item Representations
	\end{enumerate}
\end{frame}

\begin{frame}\frametitle{Open problems}
	\begin{enumerate}
		\item Robustness
		\begin{itemize}
			\item Failsafe SLAM and recovery
			\item Robustness to hardware failure
			\item Metric relocalization (shortcomings of cameras - lightning conditions)
			\item Time varying and deformable maps
			\item Automatic parameter tuning
		\end{itemize}
		\item Representations
		\begin{itemize}
			\item High level expressive representation
			\begin{itemize}
				\item Map compression
				\item Large scale mapping
				\item Higher description of objects
				\item Interaction with existing standards
			\end{itemize}
		\end{itemize}
			\item Optimal representation
			Automatic and adaptive representation
	\end{enumerate}
\end{frame}

ugv turtlebots
uav pelican

\subsection{Collaborative visual SLAM framework}
\begin{frame}\frametitle{Collaborative visual SLAM framework}
	\subtitle{Centralized approach}
	\includegraphics<3>[width=0.3\textwidth]{Graphics/10-centralized-multi-slam-approach}
	\begin{itemize}
		\item Keyframes representation with camera pose
		\item Centralized approach
		\item Same or similar type of robots
		\item Each unit performs monocular SLAM
		\item Global map at central processing unit
	\end{itemize}
\end{frame}

\begin{frame}\frametitle{Collaborative visual SLAM framework}
	\subtitle{Algorithm}
	\begin{enumerate}
		\item Visual SLAM:
		\begin{itemize}
			\item LSD SLAM (\aemph{L}arge-Scale \aemph{S}emi-Dense \aemph{D}irect Monocular SLAM)
		\end{itemize}
		\begin{enumerate}
			\item Tracking
			\item Depth map estimation
			\item Map management and optimization
		\end{enumerate}
		\item Place recognizer
		\begin{itemize}
			\item FAB-MAP (\aemph{F}ast \aemph{A}ppearance-\aemph{b}ased \aemph{Map}ping)
			\item Virtual loop closure
		\end{itemize}
		\item Map merge
		\begin{enumerate}
			\item Initial transformation estimate (Horn's method)
			\item Refining estimate using Sim3 tracker
			\item Correction using ICP (\aemph{I}terative \aemph{C}losest \aemph{P}oint)
			\item Global map update
	\newpage
		\item Overall feedback system
		\begin{itemize}
			\item Virtual loop closures
			\item Updated maps transferred to all units
		\end{itemize}
		\end{enumerate}
	\end{enumerate}
\end{frame}

\subsection{Structure from motion}
\begin{frame}\frametitle{Structure from motion}
	\begin{itemize}
		\item Offline approach
		\item Consecutive images with a different translation and rotation as input
		\item
	\end{itemize}
\end{frame}

\subsection{Multi SLAM}
\begin{frame}\frametitle{Multi SLAM}
	\begin{itemize}
		\item Rendezvous
		\item Storage issue
		\item Communication issue
	\end{itemize}
\end{frame}

\section{Question period}
{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{Graphics/bg/00-27-bg.png}}
\begin{frame}
\frametitle{Question period}
	\centering{\only<1>{\Large{Thank you for your attention}}}
	\pause
	\centering{\only<2>{\Large{Please state your questions}}}
\end{frame}}
\end{document}
